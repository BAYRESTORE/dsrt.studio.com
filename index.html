<section class="gallery">
  <h2>Preview Restore DSRT</h2>
  <div class="slider-container">
    <div class="slider">
      <img src="https://cacwogekvnrrmmnjtmql.supabase.co/storage/v1/object/public/restore/preview-before.jpg" alt="Sebelum Restore" class="img-before" />
      <img src="https://cacwogekvnrrmmnjtmql.supabase.co/storage/v1/object/public/restore/preview-after.jpg" alt="Sesudah Restore" class="img-after" />
      <div class="slider-handle" id="handle"></div>
    </div>
  </div>
</section>

<style>
.gallery {
  width: 90%;
  max-width: 800px;
  margin: 60px auto;
  text-align: center;
}

.slider-container {
  position: relative;
  width: 100%;
  overflow: hidden;
  border-radius: 16px;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
}

.slider {
  position: relative;
  width: 100%;
  height: auto;
}

.slider img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
  user-select: none;
  pointer-events: none;
}

.img-before {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1;
}

.img-after {
  position: absolute;
  top: 0;
  left: 0;
  width: 50%;
  overflow: hidden;
  clip-path: inset(0 50% 0 0);
  z-index: 2;
}

.slider-handle {
  position: absolute;
  top: 0;
  left: 50%;
  width: 4px;
  height: 100%;
  background: #f0c040;
  z-index: 3;
  cursor: ew-resize;
}
</style>

<script>
const handle = document.getElementById('handle');
const imgAfter = document.querySelector('.img-after');
const slider = document.querySelector('.slider');

slider.addEventListener('mousemove', (e) => {
  const bounds = slider.getBoundingClientRect();
  let x = e.clientX - bounds.left;
  if (x < 0) x = 0;
  if (x > bounds.width) x = bounds.width;

  handle.style.left = x + 'px';
  imgAfter.style.clipPath = `inset(0 ${100 - (x / bounds.width * 100)}% 0 0)`;
});

slider.addEventListener('touchmove', (e) => {
  const bounds = slider.getBoundingClientRect();
  let x = e.touches[0].clientX - bounds.left;
  if (x < 0) x = 0;
  if (x > bounds.width) x = bounds.width;

  handle.style.left = x + 'px';
  imgAfter.style.clipPath = `inset(0 ${100 - (x / bounds.width * 100)}% 0 0)`;
});
      </script>
